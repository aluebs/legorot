<!DOCTYPE html>
<html>
  <head>
    <title>LegoRot</title>
    <script>
      function radiusSquared(a, b) {
        return Math.pow(a, 2) + Math.pow(b, 2);
      }

      function gcd(a, b) {
        while(b) {
          var bb = b;
          b = a % b;
          a = bb;
        }
        return a;
      }

      function calculateAngles(form) {
        var height = form.height.value;
        var width = form.width.value;
        var connections = form.connections.value;

        var inter_width = 2 * width;
        var inter_height = 2 * height;
        var max_radius =
          Math.ceil(Math.sqrt(radiusSquared(inter_width, inter_height)));

        var radius_map = {};
        for (var i = 0; i <= max_radius; ++i) {
          for (var j = 0; j <= max_radius; ++j) {
            var radius = radiusSquared(i, j);
            if (radius > 0 && radius <= Math.pow(max_radius, 2)) {
              if (radius in radius_map) {
                radius_map[radius].add([i, j]);
              } else {
                radius_map[radius] = new Set([[i, j]]);
              }
            }
          }
        }

        console.log(radius_map);
      }
    </script>
  </head>
  <body>
    <h1>LegoRot</h1>
    <form action="javascript:calculateAngles(this);">
      <table>
        <tr>
          <td><label for="height">Height:</label></td>
          <td><input type="number" id="height" value=2></td>
        </tr>
        <tr>
          <td><label for="width">Width:</label></td>
          <td><input type="number" id="width" value=2></td>
        </tr>
        <tr>
          <td><label for="connections">Connections:</label></td>
          <td><input type="number" id="connections" value=2></td>
        </tr>
        <tr>
          <td><input type="submit" value="Submit"></td>
        </tr>
      </table>
    </form>
  </body>
</html>
